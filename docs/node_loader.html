<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>Loader | UNLang</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://muguangyi.github.io/unlang.io/docs/node_loader.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://muguangyi.github.io/unlang.io/docs/node_loader.html">
    
      <link rel="alternative" hreflang="zh-cn" href="https://muguangyi.github.io/unlang.io/zh-cn/docs/node_loader.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/unlang.io/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/unlang.io/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/unlang.io/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/unlang.io/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/unlang.io/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/unlang.io/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/unlang.io/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/unlang.io/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/unlang.io/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/unlang.io/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <!-- Open Graph -->
  <meta name="description" content="UNLang need to know where to load the script files. The default loader of UNLang is loading file in project folder with System.IO.File for Unity editor. But during the runtime, Unity has several asset">
<meta property="og:type" content="website">
<meta property="og:title" content="Loader">
<meta property="og:url" content="https://muguangyi.github.io/unlang.io/docs/node_loader.html">
<meta property="og:site_name" content="UNLang">
<meta property="og:description" content="UNLang need to know where to load the script files. The default loader of UNLang is loading file in project folder with System.IO.File for Unity editor. But during the runtime, Unity has several asset">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-12-17T06:57:36.314Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Loader">
<meta name="twitter:description" content="UNLang need to know where to load the script files. The default loader of UNLang is loading file in project folder with System.IO.File for Unity editor. But during the runtime, Unity has several asset">
</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/unlang.io/" id="logo">UNLang</a>
    </h1>
    <nav id="main-nav">
      <a href="/unlang.io/docs/" class="main-nav-link">Docs</a>
      <a href="https://github.com/muguangyi/unlang" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>English</span></label>
      <select id="lang-select" data-canonical="docs/node_loader.html" data-root="/unlang.io/">
        
          <option value="en" selected>English</option>
        
          <option value="zh-cn">简体中文</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Loader</h1>
                <a href="https://github.com/hexojs/site/edit/master/source/docs/node_loader.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <p><strong>UNLang</strong> need to know where to load the script files. The default loader of UNLang is loading file in project folder with <strong>System.IO.File</strong> for Unity editor. But during the runtime, Unity has several asset files’ locations, like <code>Resources</code>, <code>StreamingAssets</code> and <code>PersistentDataPath</code>. UNLang doesn’t know how to load, so it exports a way to user to take over the loader operation.</p>
<h2 id="Override-Default" class="article-heading"><a href="#Override-Default" class="headerlink" title="Override Default"></a>Override Default<a class="article-anchor" href="#Override-Default" aria-hidden="true"></a></h2><p>Check the API definition first. And what user need to do is set <code>Load</code> delegate with customized method.</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">UNode</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">delegate</span> <span class="keyword">byte</span>[] <span class="title">Load</span>(<span class="params"><span class="keyword">string</span> target</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">NodeLoader</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> Load Load &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>For example, your application is using <code>Resources</code> as the assets’ folder, then you could use <strong>UnityEngine.Resources</strong> API to take over the default.</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">UNode.NodeLoader.Load = file =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> UnityEngine.Resources.Load&lt;TextAsset&gt;(file).bytes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And if your application is using <code>Asset Bundle</code> as the assets, you could use <code>AssetBundle</code> API to override the default as well.</p>
<blockquote>
<p><code>NOTE</code>: Override loader should be before UNLang instance runs the script.</p>
</blockquote>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2019-12-17T06:57:36.314Z" itemprop="dateModified">Last updated: 2019-12-17</time>
                <a href="lang_instance.html" class="article-footer-prev" title="Runtime"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="lang_node.html" class="article-footer-next" title="Node"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Override-Default"><span class="toc-text">Override Default</span></a></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link">Overview</a><a href="install.html" class="sidebar-link">Install</a><a href="compile.html" class="sidebar-link">Compile</a><a href="first_script.html" class="sidebar-link">First Script</a><strong class="sidebar-title">Core Concept</strong><a href="workflow.html" class="sidebar-link">Workflow</a><a href="lang_instance.html" class="sidebar-link">Runtime</a><a href="node_loader.html" class="sidebar-link current">Loader</a><a href="lang_node.html" class="sidebar-link">Node</a><a href="lang_state.html" class="sidebar-link">State</a><a href="lang_graph.html" class="sidebar-link">Graph</a>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2019 <a href="https://github.com/muguangyi/unlang/graphs/contributors" target="_blank">MuGuangyi</a><br>
      Documentation licensed under MIT.
    </div>
    <div id="footer-links">
      <a href="https://github.com/muguangyi/unlang" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/unlang.io/docs/" class="mobile-nav-link">Docs</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/muguangyi/unlang" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link">Overview</a><a href="install.html" class="mobile-nav-link">Install</a><a href="compile.html" class="mobile-nav-link">Compile</a><a href="first_script.html" class="mobile-nav-link">First Script</a><strong class="mobile-nav-title">Core Concept</strong><a href="workflow.html" class="mobile-nav-link">Workflow</a><a href="lang_instance.html" class="mobile-nav-link">Runtime</a><a href="node_loader.html" class="mobile-nav-link current">Loader</a><a href="lang_node.html" class="mobile-nav-link">Node</a><a href="lang_state.html" class="mobile-nav-link">State</a><a href="lang_graph.html" class="mobile-nav-link">Graph</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/node_loader.html">
      
        <option value="en" selected>English</option>
      
        <option value="zh-cn">简体中文</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- Cookie -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.0/js.cookie.min.js"></script>
<!-- build:js build/js/main.js -->
<script src="/unlang.io/js/lang_select.js"></script>
<script src="/unlang.io/js/toc.js"></script>
<script src="/unlang.io/js/mobile_nav.js"></script>
<!-- endbuild -->

</body>
</html>