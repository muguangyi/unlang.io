<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>State | UNLang</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://muguangyi.github.io/unlang.io/docs/lang_state.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://muguangyi.github.io/unlang.io/docs/lang_state.html">
    
      <link rel="alternative" hreflang="zh-cn" href="https://muguangyi.github.io/unlang.io/zh-cn/docs/lang_state.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/unlang.io/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/unlang.io/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/unlang.io/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/unlang.io/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/unlang.io/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/unlang.io/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/unlang.io/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/unlang.io/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/unlang.io/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/unlang.io/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/unlang.io/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <!-- Open Graph -->
  <meta name="description" content="UNLang State is a state type of state machine, since state machine is a common way to handle a game logic. Using state, user could implement loop logic during a certain time only if the state is not e">
<meta property="og:type" content="website">
<meta property="og:title" content="State">
<meta property="og:url" content="https://muguangyi.github.io/unlang.io/docs/lang_state.html">
<meta property="og:site_name" content="UNLang">
<meta property="og:description" content="UNLang State is a state type of state machine, since state machine is a common way to handle a game logic. Using state, user could implement loop logic during a certain time only if the state is not e">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://muguangyi.github.io/unlang.io/assets/unlang-state.png">
<meta property="og:image" content="https://muguangyi.github.io/unlang.io/assets/unlang-mystate.png">
<meta property="og:updated_time" content="2019-12-17T06:57:36.314Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="State">
<meta name="twitter:description" content="UNLang State is a state type of state machine, since state machine is a common way to handle a game logic. Using state, user could implement loop logic during a certain time only if the state is not e">
<meta name="twitter:image" content="https://muguangyi.github.io/unlang.io/assets/unlang-state.png">
</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/unlang.io/" id="logo">UNLang</a>
    </h1>
    <nav id="main-nav">
      <a href="/unlang.io/docs/" class="main-nav-link">Docs</a>
      <a href="https://github.com/muguangyi/unlang" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>English</span></label>
      <select id="lang-select" data-canonical="docs/lang_state.html" data-root="/unlang.io/">
        
          <option value="en" selected>English</option>
        
          <option value="zh-cn">简体中文</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">State</h1>
                <a href="https://github.com/hexojs/site/edit/master/source/docs/lang_state.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <p><strong>UNLang State</strong> is a <code>state</code> type of state machine, since state machine is a common way to handle a game logic. Using <code>state</code>, user could implement loop logic during a certain time only if the <code>state</code> is not exit.</p>
<p>Of cause, user could implement basic <code>state</code> of their own by override <code>LangNode</code>, but UNLang has provided buildin one for user to customize.</p>
<h2 id="State" class="article-heading"><a href="#State" class="headerlink" title="State"></a>State<a class="article-anchor" href="#State" aria-hidden="true"></a></h2><p>UNLang <code>State</code> provides some default <code>LangSpot</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:right">Spot</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code>Begin</code></td>
<td style="text-align:left">The <code>state</code> entrance.</td>
</tr>
<tr>
<td style="text-align:right"><code>Abort</code></td>
<td style="text-align:left">Force to exit the <code>state</code>.</td>
</tr>
<tr>
<td style="text-align:right"><code>OnEnter</code></td>
<td style="text-align:left">The <code>state</code> initialize trigger.</td>
</tr>
<tr>
<td style="text-align:right"><code>OnUpdate</code></td>
<td style="text-align:left">The <code>state</code> frame tick trigger.</td>
</tr>
<tr>
<td style="text-align:right"><code>OnExit</code></td>
<td style="text-align:left">The <code>state</code> terminate trigger.</td>
</tr>
<tr>
<td style="text-align:right"><code>Substate</code></td>
<td style="text-align:left">Child state of the <code>state</code>.</td>
</tr>
</tbody>
</table>
<h2 id="How-to-Use-State" class="article-heading"><a href="#How-to-Use-State" class="headerlink" title="How to Use State"></a>How to Use State<a class="article-anchor" href="#How-to-Use-State" aria-hidden="true"></a></h2><p>There are two ways to use UNLang state.</p>
<blockquote>
<p>Let’s use <code>state</code> to print <code>Hello UNLang!</code> per frame.</p>
</blockquote>
<h3 id="Use-State-to-trigger-other-module" class="article-heading"><a href="#Use-State-to-trigger-other-module" class="headerlink" title="Use State to trigger other module"></a>Use State to trigger other module<a class="article-anchor" href="#Use-State-to-trigger-other-module" aria-hidden="true"></a></h3><p>Use UNLang <code>State</code> directly and drive other logic.</p>
<p><img src="../assets/unlang-state.png" alt="unlang-state"></p>
<p>Use <code>OnUpdate</code> output spot to trigger <code>MyModule</code> created in UNLang Node section since <code>OnUpdate</code> will be triggered per frame.</p>
<h3 id="Extend-State" class="article-heading"><a href="#Extend-State" class="headerlink" title="Extend State"></a>Extend State<a class="article-anchor" href="#Extend-State" aria-hidden="true"></a></h3><p>Implement <code>MyStateModule</code> to do the same thing.</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> UNLang;</span><br><span class="line"><span class="keyword">using</span> UNode;</span><br><span class="line"></span><br><span class="line">[<span class="meta">NodeInterface(<span class="meta-string">"MyStateModule"</span>, <span class="meta-string">"Script/"</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title">MyStateModule</span> : <span class="title">State</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnExecute</span>(<span class="params">LangInstance instance</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        UnityEngine.Debug.Log(<span class="string">"Hello UNLang!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Override <code>OnExecute</code> protected method to print the constant string.</p>
<p><img src="../assets/unlang-mystate.png" alt="unlang-mystate"></p>
<h3 id="Difference" class="article-heading"><a href="#Difference" class="headerlink" title="Difference"></a>Difference<a class="article-anchor" href="#Difference" aria-hidden="true"></a></h3><p>The big difference between the two options is whether the logic could be controlled in UNLang. If user wants to control the logic in UNLang, exporting the logic module and use fundamental modules to compose; Or implement the full feature internally and trigger it by UNLang.</p>
<p>Which way to use is mainly based on the complexity and reuse of the logic, and fully decided by user.</p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2019-12-17T06:57:36.314Z" itemprop="dateModified">Last updated: 2019-12-17</time>
                <a href="lang_node.html" class="article-footer-prev" title="Node"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="lang_graph.html" class="article-footer-next" title="Graph"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#State"><span class="toc-text">State</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-to-Use-State"><span class="toc-text">How to Use State</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-State-to-trigger-other-module"><span class="toc-text">Use State to trigger other module</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extend-State"><span class="toc-text">Extend State</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Difference"><span class="toc-text">Difference</span></a></li></ol></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link">Overview</a><a href="install.html" class="sidebar-link">Install</a><a href="compile.html" class="sidebar-link">Compile</a><a href="first_script.html" class="sidebar-link">First Script</a><strong class="sidebar-title">Core Concept</strong><a href="workflow.html" class="sidebar-link">Workflow</a><a href="lang_instance.html" class="sidebar-link">Runtime</a><a href="node_loader.html" class="sidebar-link">Loader</a><a href="lang_node.html" class="sidebar-link">Node</a><a href="lang_state.html" class="sidebar-link current">State</a><a href="lang_graph.html" class="sidebar-link">Graph</a>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2019 <a href="https://github.com/muguangyi/unlang/graphs/contributors" target="_blank">MuGuangyi</a><br>
      Documentation licensed under MIT.
    </div>
    <div id="footer-links">
      <a href="https://github.com/muguangyi/unlang" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/unlang.io/docs/" class="mobile-nav-link">Docs</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/muguangyi/unlang" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link">Overview</a><a href="install.html" class="mobile-nav-link">Install</a><a href="compile.html" class="mobile-nav-link">Compile</a><a href="first_script.html" class="mobile-nav-link">First Script</a><strong class="mobile-nav-title">Core Concept</strong><a href="workflow.html" class="mobile-nav-link">Workflow</a><a href="lang_instance.html" class="mobile-nav-link">Runtime</a><a href="node_loader.html" class="mobile-nav-link">Loader</a><a href="lang_node.html" class="mobile-nav-link">Node</a><a href="lang_state.html" class="mobile-nav-link current">State</a><a href="lang_graph.html" class="mobile-nav-link">Graph</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/lang_state.html">
      
        <option value="en" selected>English</option>
      
        <option value="zh-cn">简体中文</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- Cookie -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.0/js.cookie.min.js"></script>
<!-- build:js build/js/main.js -->
<script src="/unlang.io/js/lang_select.js"></script>
<script src="/unlang.io/js/toc.js"></script>
<script src="/unlang.io/js/mobile_nav.js"></script>
<!-- endbuild -->

</body>
</html>